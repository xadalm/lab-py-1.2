# Мини-оболочка на Python

## Общий алгоритм работы программы

Программа представляет собой интерактивную командную оболочку, имитирующую работу стандартного терминала. Основной цикл работы:

1. **Инициализация** - настройка логирования и подготовка окружения
2. **Основной цикл**:
   - Отображение текущей директории в приглашении ввода
   - Чтение команды от пользователя
   - Разбивка ввода на команду и аргументы
   - Поиск и выполнение соответствующей команды
   - Логирование операции и результата
3. **Завершение** - корректный выход по команде `exit` или Ctrl+C

## Нюансы реализации команд

### `ls` - просмотр содержимого
- Поддерживает два режима: простой (только имена) и подробный (`-l` с размером, временем и правами)
- Может работать как с директориями, так и с отдельными файлами
- Автоматически определяет текущую директорию если путь не указан
- Для Windows эмулирует права доступа в Unix-стиле (но делает это с переменным успехом)

### `cd` - смена директории
- Специальные пути: `~` (домашняя директория), `..` (родительская), `~path` (относительно домашней)
- Проверяет что целевой путь существует и является директорией(если 2 аргумента и оба файлы, то записывает 1й файл во 2й)

### `cat` - просмотр файлов
- Поддерживает просмотр нескольких файлов за один вызов
- Проверяет что путь ведет к файлу, а не директории

### `cp` - копирование
- Рекурсивное копирование директорий с опцией `-r`
- Сохраняет метаданные файлов при копировании

### `mv` - перемещение/переименование
- Единая логика для перемещения и переименования
- Проверяет совместимость типов (нельзя переместить директорию в файл)
- Обрабатывает перемещение нескольких файлов в директорию

### `rm` - удаление
- Рекурсивное удаление директорий с опцией `-r`
- Подтверждение для удаления директорий(y/n)
- Защита системных путей от случайного удаления

## Запуск проекта

### Запуск:

```bash

python -m src.main
```

### Структура проекта после запуска:
```
project/
├── src/
│   ├── commands/
│   │   ├── cat.py
│   │   ├── cd.py
│   │   ├── cp.py
│   │   ├── ls.py
│   │   ├── mv.py
│   │   └── rm.py
│   ├── __init__.py
│   ├── logging.py
│   ├── main.py
│   └── shell.log
├── tests/ # тесты
├── .gitignore
├── .pre-commit-config.yaml
├── pyproject.toml
├── README.md
└── uv.lock
```